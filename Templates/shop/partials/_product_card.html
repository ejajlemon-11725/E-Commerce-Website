<div class="bg-white rounded-xl card-shadow overflow-hidden hover:-translate-y-0.5 duration-150">
  <div class="relative">
    <img src="{{ p.image.url if p.image else static 'img/placeholder.png' }}" alt="{{ p.title }}" class="w-full h-44 object-cover">
    {% if p.discount_percent %}
      <span class="absolute top-2 left-2 bg-[var(--brand)] text-white text-xs px-2 py-1 rounded">-{{ p.discount_percent }}%</span>
    {% endif %}
  </div>
  <div class="p-3">
    <h3 class="text-sm line-clamp-2 min-h-[40px]">{{ p.title }}</h3>

    <div class="flex items-center gap-1 text-amber-500 text-xs my-1">
      {% for _ in "12345" %}
        {% if forloop.counter <= p.rating|floatformat:0 %}<i class="fa-solid fa-star"></i>{% else %}<i class="fa-regular fa-star"></i>{% endif %}
      {% endfor %}
      <span class="text-slate-500 ml-1">({{ p.total_ratings }})</span>
    </div>

    <div class="flex items-baseline gap-2">
      <div class="text-lg font-semibold">৳ {{ p.price }}</div>
      {% if p.old_price %}
        <div class="text-slate-400 line-through text-sm">৳ {{ p.old_price }}</div>
      {% endif %}
    </div>

    <button onclick="addToCart({{ p.id }})"
            class="mt-3 w-full bg-[var(--brand)] text-white text-sm py-2 rounded-md hover:opacity-90">
      Add to Cart
    </button>
  </div>
</div>
