{% extends "base.html" %}
{% block title %}Categories{% endblock %}
{% block content %}
<h2 class="mb-3">Top E-Commerce Categories</h2>

<style>
.grid {display:grid;grid-template-columns:repeat(auto-fill,minmax(230px,1fr));gap:18px}
.card{border:1px solid #e6e6e6;border-radius:10px;overflow:hidden;background:#fff}
.card .body{padding:12px 14px}
.card h5{margin:0 0 6px;font-size:16px;line-height:1.3}
.muted{color:#6b7280;font-size:13px}
.count{font-weight:600}
a.stretched{display:block;text-decoration:none;color:inherit}
</style>

<div class="grid">
  {% for c in categories %}
  <a class="stretched" href="{% url 'catalog:product_list' c.slug %}">
    <div class="card">
      {% if c.image %}
        <img src="{{ c.image.url }}" alt="{{ c.name }}" style="width:100%;height:160px;object-fit:cover;">
      {% else %}
        <img src="/static/no-image.png" alt="No image" style="width:100%;height:160px;object-fit:cover;">
      {% endif %}
      <div class="body">
        <h5>{{ c.name }}</h5>
        <div class="muted"><span class="count">{{ c.product_count }}</span> products</div>
      </div>
    </div>
  </a>
  {% empty %}
  <p>No categories yet.</p>
  {% endfor %}
</div>

{% endblock %}
